package com.danailbd;

import java.io.Console;

import com.danailbd.Game.GameState;

public class GameUserInput {
	private String[] players = new String[2];
	private Game gameInstance = new Game();
	private String saveFile = ".";
	private char turn;

	public void fieldsInitialisation() {
		Game gameInstance = new Game();
		turn = 'O';
	}

	public void nameInitialisation(){
		Console consoleIn = System.console();

		players[0] = consoleIn.readLine("Enter name for user 1");
		players[1] = consoleIn.readLine("Enter name for user 2");
	}

	public void printGameState(GameState gameState) {

		switch (gameState) {
		case X_WON:
			System.out.println(players[0] + " has won this game");
		case Y_WON:
			System.out.println(players[1] + " has won this game");
		case DRAW:
			System.out.println(players[0] + " and " + players[1]
					+ " has finished draw this game");
		}
	}

	public void runGame() {
		nameInitialisation();
		fieldsInitialisation();

		Console consoleIn = System.console();
		boolean finishGame = false;
		
		while (finishGame == false) {
			char choise = consoleIn.readLine(Players[0] + "\'s turn - insert command :").charAt(0);
			GameState gameState;
			switch(choise){
			case 'O':
				gameState = gameInstance.makeMove(choise);//
			case 'X':
				gameState = gameInstance.makeMove(choise); //

			case 'n':
				runGame();
				return;
			case 'l':
				gameInstance.load(saveFile);
			case 's':
				gameInstance.save(saveFile);
			case 'q': System.out.println("Quiting...");
			case 'r':
				gameInstance.redo();
			case 'u':
				gameInstance.undo();
			}

			// Checks game state
			if (gameState != GameState.PLAYING) {
				printGameState(gameState);
				return; // finishes the game
			}
		}
	}
}